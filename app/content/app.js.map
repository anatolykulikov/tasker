{"version":3,"sources":["functions.js","index.js","init.js","ui.js"],"names":["addTask","task","id","app","task_coint","name","decr","data","getData","plan","push","drawTasks","updateApp","deleteTask","arr","element","from","splice","runtask","run","work","field","render","i","length","id_delete","concat","id_run","document","getElementById","innerHTML","_loop","addEventListener","Date","notify","head","message","type","createElement","Math","trunc","random","className","body","appendChild","setTimeout","classList","remove","add","initApp","localStorage","getItem","loadApp","installApp","draw_Main","draw_Taskboard","version","done","archive","setItem","JSON","stringify","parse","deleteApp","removeItem","drawTask","window","onload"],"mappings":"aACA,SAAAA,UACA,IAAAC,EAAA,CACAC,KAAAC,IAAAC,WACAC,KAAA,WAAAF,IAAAC,WACAE,KAAA,+BAAAH,IAAAC,WACAG,KAAAC,WAEAL,IAAAM,KAAAC,KAAAT,GACAU,UAAA,QACAC,YAGA,SAAAC,WAAAC,EAAAC,EAAAC,GACAF,EAAAG,OAAAF,EAAA,GACAJ,UAAAK,GACAJ,YAEA,SAAAM,QAAAJ,EAAAC,GACA,IAAAI,EAAAL,EAAAC,GACAZ,IAAAiB,KAAAV,KAAAS,GACAL,EAAAG,OAAAF,EAAA,GACAJ,UAAA,QACAA,UAAA,QACAC,YAGA,SAAAD,UAAAU,GAGA,IAFA,IAAAd,EAAAJ,IAAAkB,GACAC,EAAA,GACAC,EAAA,EAAAA,EAAAhB,EAAAiB,OAAAD,IAAA,CACA,IAAAE,EAAA,WAAAC,OAAAnB,EAAAgB,GAAArB,IACAyB,EAAA,WAAAD,OAAAnB,EAAAgB,GAAArB,IAEAoB,GADA,yBAAAI,OAAAnB,EAAAgB,GAAAlB,KAAA,YAAAqB,OAAAnB,EAAAgB,GAAAjB,KAAA,qEAAAoB,OAAAC,EAAA,wDAAAD,OAAAD,EAAA,gCAGAG,SAAAC,eAAAR,GAAAS,UAAAR,EACA,IAVA,IAAAS,EAAA,SAUAR,GACA,IAAAE,EAAA,WAAAC,OAAAnB,EAAAgB,GAAArB,IACAyB,EAAA,WAAAD,OAAAnB,EAAAgB,GAAArB,IACA0B,SAAAC,eAAAJ,GAAAO,iBAAA,QAAA,WAAAnB,WAAAN,EAAA,CAAAgB,GAAAF,KACAO,SAAAC,eAAAF,GAAAK,iBAAA,QAAA,WAAAd,QAAAX,EAAA,CAAAgB,OAJAA,EAAA,EAAAA,EAAAhB,EAAAiB,OAAAD,IAAAQ,EAAAR,GAQA,SAAAf,UAEA,OADA,IAAAyB,KAKA,SAAAC,OAAAC,EAAAC,EAAAC,GACA,IAAAH,EAAAN,SAAAU,cAAA,OACAJ,EAAAhC,GAAAqC,KAAAC,MAAA,GAAAD,KAAAE,UACAP,EAAAQ,UAAA,iBAAAhB,OAAAW,EAAA,kBACAH,EAAAJ,UAAA,OAAAJ,OAAAS,EAAA,YAAAT,OAAAU,EAAA,QACAR,SAAAe,KAAAC,YAAAV,GACAW,WAAA,WACAX,EAAAY,UAAAC,OAAA,iBACAF,WAAA,WACAX,EAAAY,UAAAE,IAAA,gBACAH,WAAA,WACAX,EAAAa,UACA,OACA,MACA,KCjEA,IAAA5C,ICAA,SAAA8C,UAEAC,aAAAC,QAAA,cACAhD,IAAAiD,UACAlB,OAAA,SAAA,uBAAA,aAEA/B,IAAAkD,aACAnB,OAAA,cAAA,mDAAA,YAEAoB,YACAC,iBAGA,SAAAF,aACA,IAAAlD,EAAA,CACAqD,QAAA,EACApD,WAAA,EACAK,KAAA,GACAW,KAAA,GACAqC,KAAA,GACAC,QAAA,IAIA,OAFAR,aAAAS,QAAA,YAAAC,KAAAC,UAAA1D,IACA+B,OAAA,UAAA,mDAAA,WACA/B,EAEA,SAAAiD,UAEA,OADAjD,IAAAyD,KAAAE,MAAAZ,aAAAC,QAAA,cAGA,SAAAvC,YACAsC,aAAAS,QAAA,YAAAC,KAAAC,UAAA1D,MAEA,SAAA4D,YACAb,aAAAc,WAAA,aACA9B,OAAA,qBAAA,sDAAA,SCnCA,SAAAoB,YAEA1B,SAAAC,eAAA,QAAAC,UADA,oYAEAF,SAAAC,eAAA,WAAAG,iBAAA,QAAAhC,SAGA,SAAAuD,iBACA3B,SAAAC,eAAA,WAAAC,UAAA,2TACAnB,UAAA,QACAA,UAAA,QACAA,UAAA,QAGA,SAAAsD,YFXAC,OAAAC,OAAA,WACAlB","file":"app.js","sourcesContent":["//\r\nfunction addTask() {\r\n    let task = {\r\n        id: ++app.task_coint,\r\n        name: 'Задача №'+ app.task_coint,\r\n        decr: 'Описание задачи под номером ' + app.task_coint,\r\n        data: getData()\r\n    }\r\n    app.plan.push(task);\r\n    drawTasks('plan');\r\n    updateApp();\r\n}\r\n\r\nfunction deleteTask(arr, element, from) {\r\n    arr.splice(element, 1);\r\n    drawTasks(from);\r\n    updateApp();\r\n}\r\nfunction runtask(arr, element) {\r\n    let run = arr[element];\r\n    app.work.push(run);\r\n    arr.splice(element, 1);\r\n    drawTasks('plan');\r\n    drawTasks('work');\r\n    updateApp();\r\n}\r\n\r\nfunction drawTasks(field) {\r\n    let data = app[field];\r\n    let render = '';\r\n    for (let i = 0; i < data.length; i++) {\r\n        let id_delete = `deltask-${data[i].id}`;\r\n        let id_run = `runtask-${data[i].id}`;\r\n        let html = `<div class=\"task\"><h3>${data[i].name}</h3><p>${data[i].decr}</p><div class=\"task__controls\"><span class=\"control-active\" id=\"${id_run}\">Выполнение</span><span class=\"control-delete\" id=\"${id_delete}\">Удалить</span></div></div>`;\r\n        render = render + html;\r\n    }\r\n    document.getElementById(field).innerHTML = render;\r\n    for (let i = 0; i < data.length; i++) {\r\n        let id_delete = `deltask-${data[i].id}`;\r\n        let id_run = `runtask-${data[i].id}`;\r\n        document.getElementById(id_delete).addEventListener('click', function() {deleteTask(data, [i], field);});\r\n        document.getElementById(id_run).addEventListener('click', function() {runtask(data, [i]);});\r\n    }\r\n}\r\n\r\nfunction getData() {\r\n    let data = new Date();\r\n    return data;\r\n};\r\n\r\n// Вызов оповещения\r\nfunction notify(head, message, type) {\r\n    let notify = document.createElement('div');\r\n    notify.id = Math.trunc(Math.random() * 10);\r\n    notify.className = `notify notify-${type} notify-arrive`;\r\n    notify.innerHTML = `<h4>${head}</h4><p>${message}</p>`;\r\n    document.body.appendChild(notify);\r\n    setTimeout(function () {\r\n        notify.classList.remove('notify-arrive');\r\n        setTimeout(function () {\r\n            notify.classList.add('notify-leave')\r\n            setTimeout(function () {\r\n                notify.remove();\r\n            }, 1200);\r\n        }, 4000)\r\n    }, 1000);\r\n}","var app;\r\n// Инициализация приложения\r\nwindow.onload = () => {\r\n    initApp();\r\n};","function initApp() {\r\n    // Приложение установлено\r\n    if(localStorage.getItem('TaskerApp')) {\r\n        app = loadApp();\r\n        notify('Готово', 'Все данные загружены', 'success');\r\n    } else {\r\n        app = installApp();\r\n        notify('Установлено', 'Приложение успешно установлено и готово к работе', 'success');\r\n    }\r\n    draw_Main();\r\n    draw_Taskboard();\r\n}\r\n\r\nfunction installApp() {\r\n    let app = {\r\n        version: 1,\r\n        task_coint: 0,\r\n        plan: [],\r\n        work: [],\r\n        done: [],\r\n        archive: []\r\n    };\r\n    localStorage.setItem('TaskerApp', JSON.stringify(app));\r\n    notify('Готово!','Приложение успешно установлено и готово к работе', 'success');\r\n    return app;\r\n}\r\nfunction loadApp() {\r\n    app = JSON.parse(localStorage.getItem('TaskerApp'));\r\n    return app;\r\n}\r\nfunction updateApp() {\r\n    localStorage.setItem('TaskerApp', JSON.stringify(app));\r\n}\r\nfunction deleteApp() {\r\n    localStorage.removeItem('TaskerApp');\r\n    notify('Приложение удалено','Приложение полностью удалено, все данные уничтожены', 'error');\r\n}","function draw_Main() {\r\n    let html = '<aside class=\"app__sidebar\"><h1>Tasker<span>.app</span></h1><nav class=\"app__menu\"><span class=\"app__menu_addtask\" id=\"addtask\">Добавить</span><span class=\"app__menu_element app__menu-selected\">Задачи</span><span class=\"app__menu_element\">Архив</span><hr class=\"app__menu_divider\"><span class=\"app__menu_element\">Настройки</span></nav></aside><div id=\"appbody\" class=\"app__body\"></div>';\r\n    document.getElementById('main').innerHTML = html;\r\n    document.getElementById('addtask').addEventListener('click', addTask);\r\n}\r\n\r\nfunction draw_Taskboard() {\r\n    let html = '<section class=\"app__task_col\"><h2>План</h2><div class=\"app__task_wrapper\" id=\"plan\"></div></section><section class=\"app__task_col\"><h2>В работе</h2><div class=\"app__task_wrapper\" id=\"work\"></div></section><section class=\"app__task_col\"><h2>Выполнены</h2><div class=\"app__task_wrapper\" id=\"done\"></div></section>';   document.getElementById('appbody').innerHTML = html;\r\n    drawTasks('plan');\r\n    drawTasks('work');\r\n    drawTasks('done');\r\n}\r\n\r\nfunction drawTask() {\r\n    let html = '<div class=\"task\"><h3>Название задания</h3><p>Краткое описание задания, не очень много, не более 600 символов (но можно и больше, конечно)</p><div class=\"task__controls\"><span class=\"control-active\">Выполнение</span><span class=\"control-delete\">Удалить</span><span class=\"control-archive\">В архив</span><span class=\"control-back\">Вернуть</span></div></div>';    \r\n}"]}