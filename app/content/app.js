"use strict";function addTask(){var a={id:++app.task_coint,name:"Задача №"+app.task_coint,decr:"Описание задачи под номером "+app.task_coint,data:getData()};app.plan.push(a),drawTasks("plan"),updateApp()}function deleteTask(a,n,t){a.splice(n,1),drawTasks(t),updateApp()}function runtask(a,n){var t=a[n];app.work.push(t),a.splice(n,1),drawTasks("plan"),drawTasks("work"),updateApp()}function drawTasks(e){for(var s=app[e],a="",n=0;n<s.length;n++){var t="deltask-".concat(s[n].id),p="runtask-".concat(s[n].id);a+='<div class="task"><h3>'.concat(s[n].name,"</h3><p>").concat(s[n].decr,'</p><div class="task__controls"><span class="control-active" id="').concat(p,'">Выполнение</span><span class="control-delete" id="').concat(t,'">Удалить</span></div></div>')}document.getElementById(e).innerHTML=a;for(var c=function(a){var n="deltask-".concat(s[a].id),t="runtask-".concat(s[a].id);document.getElementById(n).addEventListener("click",function(){deleteTask(s,[a],e)}),document.getElementById(t).addEventListener("click",function(){runtask(s,[a])})},i=0;i<s.length;i++)c(i)}function getData(){return new Date}function notify(a,n,t){var e=document.createElement("div");e.id=Math.trunc(10*Math.random()),e.className="notify notify-".concat(t," notify-arrive"),e.innerHTML="<h4>".concat(a,"</h4><p>").concat(n,"</p>"),document.body.appendChild(e),setTimeout(function(){e.classList.remove("notify-arrive"),setTimeout(function(){e.classList.add("notify-leave"),setTimeout(function(){e.remove()},1200)},4e3)},1e3)}var app;function initApp(){localStorage.getItem("TaskerApp")?(app=loadApp(),notify("Готово","Все данные загружены","success")):(app=installApp(),notify("Установлено","Приложение успешно установлено и готово к работе","success")),draw_Main(),draw_Taskboard()}function installApp(){var a={version:1,task_coint:0,plan:[],work:[],done:[],archive:[]};return localStorage.setItem("TaskerApp",JSON.stringify(a)),notify("Готово!","Приложение успешно установлено и готово к работе","success"),a}function loadApp(){return app=JSON.parse(localStorage.getItem("TaskerApp"))}function updateApp(){localStorage.setItem("TaskerApp",JSON.stringify(app))}function deleteApp(){localStorage.removeItem("TaskerApp"),notify("Приложение удалено","Приложение полностью удалено, все данные уничтожены","error")}function draw_Main(){document.getElementById("main").innerHTML='<aside class="app__sidebar"><h1>Tasker<span>.app</span></h1><nav class="app__menu"><span class="app__menu_addtask" id="addtask">Добавить</span><span class="app__menu_element app__menu-selected">Задачи</span><span class="app__menu_element">Архив</span><hr class="app__menu_divider"><span class="app__menu_element">Настройки</span></nav></aside><div id="appbody" class="app__body"></div>',document.getElementById("addtask").addEventListener("click",addTask)}function draw_Taskboard(){document.getElementById("appbody").innerHTML='<section class="app__task_col"><h2>План</h2><div class="app__task_wrapper" id="plan"></div></section><section class="app__task_col"><h2>В работе</h2><div class="app__task_wrapper" id="work"></div></section><section class="app__task_col"><h2>Выполнены</h2><div class="app__task_wrapper" id="done"></div></section>',drawTasks("plan"),drawTasks("work"),drawTasks("done")}function drawTask(){}window.onload=function(){initApp()};
//# sourceMappingURL=app.js.map
